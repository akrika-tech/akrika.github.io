<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Project Submission - Akrika Technologies</title>
  <style>
    body { font-family: Arial; padding: 20px; background: #f4f4f4; }
    form { background: white; padding: 20px; border-radius: 8px; max-width: 500px; margin: auto; }
    input, button { display: block; width: 100%; margin-top: 10px; padding: 10px; }
  </style>
</head>
<body>
  <h2>Submit Your Internship Project</h2>
  <form id="uploadForm">
    <input type="text" name="name" placeholder="Your Full Name" required>
    <input type="email" name="email" placeholder="Your Email" required>
    <input type="file" name="file" accept="application/pdf" required>
    <button type="submit">Submit Project</button>
  </form>

  <p id="status"></p>

  <script>
    const form = document.getElementById('uploadForm');
    const status = document.getElementById('status');

    form.addEventListener('submit', async function(e) {
      e.preventDefault();
      status.textContent = "Uploading...";

      const name = form.name.value;
      const email = form.email.value;
      const file = form.file.files[0];

      const reader = new FileReader();
      reader.onload = async function() {
        const base64 = reader.result.split(',')[1];
        const body = new URLSearchParams();
        body.append('name', name);
        body.append('email', email);
        body.append('file', base64);

        const response = await fetch('https://script.google.com/macros/s/AKfycbz-j8mvGkanEbimGiQ0JP0Q2A1iP53yyCmSSms6AiCw8kXEV66A7Ccn-hO1RsAmOmsOZA/exec', {
          method: 'POST',
          body: body
        });

        if ((await response.text()).includes("Success")) {
          status.textContent = "✅ Submission successful!";
          form.reset();
        } else {
          status.textContent = "❌ Upload failed. Try again.";
        }
      };
      reader.readAsDataURL(file);
    });
  </script>
</body>
</html>
